 
<!DOCTYPE HTML>
<html lang="en">
            <head>
                        <title>RequestAnimationFrame.js example</title>
            </head>
            <body>
                        <script src="js/RequestAnimationFrame.js"></script>
                        <script>
 
 
 
                        var canvas, context;                                          
                        canvas = document.createElement( 'canvas' );
                        canvas.width = 256;                              
                        canvas.height = 256;
 
                        context = canvas.getContext( '2d' );
                        document.body.appendChild( canvas );
                        var rectX = 10;
                        var rectY = 20;
                        var length = 50;
                        var width = 50;
                        var isGoingRight = true;
 
function main(){
 
                        GameLoop();
}
                        //requestAnimationFrame(GameLoop);
 
 
 
                       
 
            function GameLoop(){
            context.fillStyle = 'white';
            context.fillRect( 0, 0, canvas.width, canvas.height);
 
           
            context.fillStyle = "green";
            context.fillRect(rectX, rectY, width,length);
           
            if(isGoingRight)
            rectX++;
            else
            rectX--;
           
            if(rectX==canvas.width-width){
            rectY+=10;
            thisIsLeft();		
            }
            if(rectX==0){
            rectY+=10;
            thisIsRight();}
            if(rectY>=50){
            addElement();
 
}
           
 
 
            // if(rectX>=canvas.width-width){
            // leftToRight
            // rectX--;
            //          }
            //else
            //          rectX++;
           
            requestAnimationFrame(GameLoop);
            }
 
            function thisIsRight(){
            isGoingRight = true;
                                   
            }
 
            function thisIsLeft(){
            isGoingRight = false;
                                   
            }
function addElement(){
            context.fillRect(rectX-width, length, width,length);
}
 
 
 
           
                        main();
 
                        </script>
 
                        <div style="width:256px">
                       
            </body>
</html>
</html>